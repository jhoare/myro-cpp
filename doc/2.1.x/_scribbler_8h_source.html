<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>myro-cpp: headers/Scribbler.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>headers/Scribbler.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef __SCRIBBLER_H__</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define __SCRIBBLER_H__</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;Robot.h&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;Picture.h&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;boost/thread/mutex.hpp&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;Magick++.h&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="comment">// Forward Declarations</span>
<a name="l00012"></a>00012 <span class="keyword">class </span><a class="code" href="class_video_stream.html" title="A class for streaming video from a scribbler robot.">VideoStream</a>;
<a name="l00013"></a>00013 <span class="keyword">class </span><a class="code" href="classserial.html" title="Used to manipulate a serial connection in Linux for connecting, reading, and writing...">serial</a>;
<a name="l00014"></a>00014 
<a name="l00027"></a><a class="code" href="class_scribbler.html">00027</a> <span class="keyword">class </span><a class="code" href="class_scribbler.html" title="A port of the existing IPRE Scribbler Python code to C++.">Scribbler</a>: <span class="keyword">public</span> <a class="code" href="class_robot.html" title="A generic robot class that specifies general required functions for basic robot operation...">Robot</a> {
<a name="l00028"></a>00028 
<a name="l00029"></a>00029         <span class="keyword">public</span>:
<a name="l00030"></a>00030 
<a name="l00032"></a>00032         <a class="code" href="class_scribbler.html#a994fe914f196b2d8fc805f9c5bb3424d" title="Default Constructor.">Scribbler</a>();
<a name="l00034"></a>00034         <a class="code" href="class_scribbler.html#ac7938a3a95591af6209946f06970adab" title="Default Destructor.">~Scribbler</a>();
<a name="l00035"></a>00035 
<a name="l00043"></a>00043         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#af7a289c52823b56affc8614d074bbe8d" title="Used to connect to the robot, and on use it will ask the user to specify the desired...">connect</a>();
<a name="l00044"></a>00044 
<a name="l00051"></a>00051         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a9bdadd3185f21faefdbbb0258ee36081" title="Attempts to disconnect from the robot.">disconnect</a>();
<a name="l00052"></a>00052 
<a name="l00059"></a>00059         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#aa36206f3cf121ef6c3fd6f421c636e00" title="Move issues a desired velocity and desired angular velocity,.">move</a>(<span class="keywordtype">double</span> <a class="code" href="class_scribbler.html#a2d46e5f96071040070bab5e63c6a13af" title="Function for giving the robot a desired velocity.">translate</a>, <span class="keywordtype">double</span> <a class="code" href="class_scribbler.html#ad26135c1700c2942099e6035dacdb2df" title="Function for giving the robot a desired angular velocity.">rotate</a>, <span class="keywordtype">double</span> z=0);
<a name="l00060"></a>00060 
<a name="l00065"></a>00065         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#ad26135c1700c2942099e6035dacdb2df" title="Function for giving the robot a desired angular velocity.">rotate</a>(<span class="keywordtype">double</span> amount);
<a name="l00066"></a>00066 
<a name="l00072"></a>00072         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a2d46e5f96071040070bab5e63c6a13af" title="Function for giving the robot a desired velocity.">translate</a>(<span class="keywordtype">double</span> amount);
<a name="l00073"></a>00073 
<a name="l00077"></a>00077         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a65f7862b21ee67314b4119e696223ff8" title="Function for cutting off power to the robot&amp;#39;s motors.">hardStop</a>();
<a name="l00078"></a>00078 
<a name="l00082"></a>00082         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#ae3cae33a63548223f1037a16d5bfe632" title="TODO: Restart is not yet supported!">restart</a>();
<a name="l00083"></a>00083 
<a name="l00091"></a>00091         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a3baeb877c446c22596121f806701b226" title="Function for sending tones to the robot.">beep</a>(<span class="keywordtype">double</span> duration, <span class="keywordtype">int</span> freq, <span class="keywordtype">int</span> freq2 = 0);
<a name="l00092"></a>00092 
<a name="l00100"></a>00100         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a7cbff5bb8d4684c17df5fa4d90fb0a4c" title="Store a single byte value on the robot.">setData</a>(<span class="keywordtype">int</span> position, <span class="keywordtype">int</span> value);
<a name="l00101"></a>00101 
<a name="l00110"></a>00110         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a4ae497aad9af7279bea8278f0407f80a" title="Performs the same operations as setData, however using a different robot message...">setSingleData</a>(<span class="keywordtype">int</span> position, <span class="keywordtype">int</span> value);
<a name="l00111"></a>00111 
<a name="l00117"></a>00117         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#aa3265b32b1a16066b68eb585cdee02fd" title="Used to turn the robot&amp;#39;s echo mode on or off.">setEchoMode</a>(<span class="keywordtype">int</span> value);
<a name="l00118"></a>00118 
<a name="l00126"></a>00126         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a12f822364f936c92bb26145a438900fa" title="Changes the 16 byte name stored on the robot to the specified 16 byte name.">setName</a>(std::string newName);
<a name="l00127"></a>00127 
<a name="l00135"></a>00135         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a20c057264a35576446a3c3dd4a26405d" title="Changes the 16 byte password stored on the robot to the new specified 16 byte password...">setPassword</a>(std::string password);
<a name="l00136"></a>00136 
<a name="l00137"></a>00137         <span class="comment">//setting functions</span>
<a name="l00150"></a>00150 <span class="comment"></span>        <span class="keywordtype">int</span> <span class="keyword">set</span>(std::string item, <span class="keywordtype">int</span> position, <span class="keywordtype">int</span> value = 0);
<a name="l00151"></a>00151 
<a name="l00165"></a>00165         <span class="keywordtype">int</span> <span class="keyword">set</span>(std::string item, std::string position, <span class="keywordtype">double</span> value = 0);
<a name="l00166"></a>00166 
<a name="l00183"></a>00183         <span class="keywordtype">void</span> * <span class="keyword">get</span>(std::string item, std::vector&lt;std::string&gt; position 
<a name="l00184"></a>00184                         = std::vector&lt;std::string&gt;()); 
<a name="l00185"></a>00185 
<a name="l00198"></a>00198         <span class="keywordtype">void</span> * <span class="keyword">get</span>(std::string item, std::vector&lt;int&gt; position);
<a name="l00199"></a>00199 
<a name="l00206"></a>00206     std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#a84837de220b825785bb8156630e43ac2" title="Get the values of the light sensors.">getLights</a>();
<a name="l00207"></a>00207 
<a name="l00220"></a>00220         std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#af982ebe348cbfbc7b1895ffb8a9fd298" title="Every set command will read the values for all eleven on board robot sensors, and...">getLastSensors</a>();
<a name="l00221"></a>00221                 
<a name="l00222"></a>00222 
<a name="l00228"></a>00228         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a2ffedfe63730f3d121df47f88b170adb" title="Use to toggle the front led on or off.">setLEDFront</a>(<span class="keywordtype">int</span> value);
<a name="l00229"></a>00229 
<a name="l00236"></a>00236         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a907d86d6c2b1cf1baf17898d25d659af" title="Used to set the back led to the specified value.">setLEDBack</a>(<span class="keywordtype">double</span> value);
<a name="l00237"></a>00237 
<a name="l00246"></a>00246         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a7b7008069b93403fca63aedc7d02890b" title="Used to set the robot&amp;#39;s forward direction.">setForwardness</a>(std::string direction);
<a name="l00247"></a>00247 
<a name="l00253"></a>00253         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a7b7008069b93403fca63aedc7d02890b" title="Used to set the robot&amp;#39;s forward direction.">setForwardness</a>(<span class="keywordtype">int</span> direction);
<a name="l00254"></a>00254 
<a name="l00260"></a>00260         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#ae4436d949639a5f6aad0b5db149cc650" title="Used to set the power amount for the dongle&amp;#39;s IR sensors.">setIRPower</a>(<span class="keywordtype">int</span> power);
<a name="l00261"></a>00261 
<a name="l00267"></a>00267         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#afcfa9bd8d4ff6d06fdc0d927f8993bb6" title="Used to turn the camera&amp;#39;s white balance on or off.">setWhiteBalance</a>(<span class="keywordtype">int</span> value);
<a name="l00268"></a>00268 
<a name="l00272"></a>00272         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a8f07c22ee290fec765ff47d9717a3ad3" title="Not yet supported.">reboot</a>();
<a name="l00273"></a>00273 
<a name="l00287"></a>00287         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a3ceaf2f42deb48190265b21c04fad5b8" title="Used to configure the blob tracking feature within the robot, by providing a picture...">conf_rle_range</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * picture, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> x2,
<a name="l00288"></a>00288                         <span class="keywordtype">int</span> y2);
<a name="l00289"></a>00289 
<a name="l00303"></a>00303         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a791314f4bbb605a2d91570e5d63e2f3d" title="Used to manually define the bounds for a blob configuration in YUV color space.">configureBlob</a>(<span class="keywordtype">int</span> y_low = 0, <span class="keywordtype">int</span> y_high = 255,
<a name="l00304"></a>00304                                            <span class="keywordtype">int</span> u_low = 0, <span class="keywordtype">int</span> u_high = 255,
<a name="l00305"></a>00305                                            <span class="keywordtype">int</span> v_low = 0, <span class="keywordtype">int</span> v_high = 255,
<a name="l00306"></a>00306                                            <span class="keywordtype">int</span> smooth_thresh=4);
<a name="l00307"></a>00307 
<a name="l00313"></a>00313         <span class="keywordtype">double</span> <a class="code" href="class_scribbler.html#aac0b3bf76ad4d644e6b58525f58c1033" title="Read the current voltage value for the batteries.">getBattery</a>();
<a name="l00314"></a>00314         
<a name="l00327"></a>00327         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#aaa9310ee075c7010c56faf91f13a3231" title="Reads the value for a specified dongle IR sensor.">getObstacle</a>(std::string value = <span class="stringliteral">&quot;none&quot;</span>);
<a name="l00328"></a>00328 
<a name="l00341"></a>00341         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#aaa9310ee075c7010c56faf91f13a3231" title="Reads the value for a specified dongle IR sensor.">getObstacle</a>(<span class="keywordtype">int</span> value);
<a name="l00342"></a>00342 
<a name="l00355"></a>00355         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a08a165d00fd1eb0b25c4bea5942fc96e" title="The camera has three different window&amp;#39;s which it can use for returning light...">getBright</a>(std::string value = <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00356"></a>00356 
<a name="l00368"></a>00368         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a2fb6eba557a0563eea9266fa5b540e4b" title="Used to query a specified light sensor located on the rear of the robot.">getLight</a>(std::string value = <span class="stringliteral">&quot;none&quot;</span>);
<a name="l00369"></a>00369 
<a name="l00381"></a>00381         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a2fb6eba557a0563eea9266fa5b540e4b" title="Used to query a specified light sensor located on the rear of the robot.">getLight</a>(<span class="keywordtype">int</span> value);
<a name="l00382"></a>00382 
<a name="l00392"></a>00392         <a class="code" href="class_picture.html">Picture</a> * <a class="code" href="class_scribbler.html#a61a4cf3836643f2feefa29191e34e92b" title="Used to take pictures in the RGB and Gray Scale color space.">takePicture</a>(std::string type =  <span class="stringliteral">&quot;color&quot;</span>);
<a name="l00393"></a>00393         
<a name="l00394"></a>00394         <span class="comment">/*</span>
<a name="l00395"></a>00395 <span class="comment">         * Not yet functional. This version is intended to be used for</span>
<a name="l00396"></a>00396 <span class="comment">         * taking the jpeg images. However, get jpeg scan is still buggy.</span>
<a name="l00397"></a>00397 <span class="comment">         */</span>
<a name="l00398"></a>00398         <span class="comment">//unsigned char * takePicture(std::string type , int &amp;size);</span>
<a name="l00399"></a>00399 
<a name="l00410"></a>00410         std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#ab9d05164b013f5d53437228dc1fd43cd" title="Given that the blob tracking is configured, this function returns the number of pixels...">getBlob</a>(); <span class="comment">//not sure about this either</span>
<a name="l00411"></a>00411 
<a name="l00415"></a>00415         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a73e62d11898dd7a97775abecd0a600a6" title="This turns off White Balance, Gain Control, and Exposure Control.">darkenCamera</a>(<span class="keywordtype">int</span> level = 0);
<a name="l00416"></a>00416 
<a name="l00420"></a>00420         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a719e3f22c6aabb024edb2b23323abda5" title="This turns on White Balance, Gain Control, and Exposure Control.">autoCamera</a>();
<a name="l00421"></a>00421 
<a name="l00425"></a>00425         std::string <a class="code" href="class_scribbler.html#abf20230db6546efac1ff68ea13a34302">getName</a>();
<a name="l00426"></a>00426 
<a name="l00430"></a>00430         std::string <a class="code" href="class_scribbler.html#a320536d5f7906b6b25ebc9ad701def4e">getPassword</a>();
<a name="l00431"></a>00431 
<a name="l00439"></a>00439         std::vector&lt;std::string&gt; <a class="code" href="class_scribbler.html#a9e718391b3ec1c33a8f83b866f31ff9f" title="This returns information about the robot&amp;#39;s dongle, firmware, and communication...">getInfo</a>();
<a name="l00440"></a>00440 
<a name="l00449"></a>00449         std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#af6c6885cceee3095ef60cb2acaea1923">getData</a>(std::vector&lt;int&gt; position = std::vector&lt;int&gt;());
<a name="l00450"></a>00450 
<a name="l00451"></a>00451         <span class="keyword">private</span>:
<a name="l00452"></a>00452 
<a name="l00460"></a>00460         <span class="keywordtype">void</span> _adjustSpeed(<span class="keywordtype">double</span> translate, <span class="keywordtype">double</span> rotate);
<a name="l00461"></a>00461 
<a name="l00475"></a>00475         <span class="keywordtype">int</span> _set(<span class="keywordtype">int</span> message_header, ...);
<a name="l00476"></a>00476 
<a name="l00486"></a>00486         <span class="keywordtype">int</span> * _get(<span class="keywordtype">int</span> message_header, <span class="keywordtype">int</span> bytes, std::string mode = <span class="stringliteral">&quot;byte&quot;</span>);
<a name="l00487"></a>00487 
<a name="l00491"></a>00491         <span class="keywordtype">int</span> _set_speaker(<span class="keywordtype">int</span> freq, <span class="keywordtype">int</span> duration);       
<a name="l00492"></a>00492         <span class="comment">//Overloaded!</span>
<a name="l00493"></a>00493         
<a name="l00497"></a>00497         <span class="keywordtype">int</span> _set_speaker(<span class="keywordtype">int</span> freq, <span class="keywordtype">int</span> freq2, <span class="keywordtype">int</span> duration);
<a name="l00498"></a>00498 
<a name="l00505"></a>00505         <span class="keywordtype">int</span> set_ir_power(<span class="keywordtype">int</span> power);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507         <span class="comment">//Private Camera Related Functions</span>
<a name="l00514"></a>00514 <span class="comment"></span>        <span class="keywordtype">int</span> set_cam_param(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> addr, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> byte);
<a name="l00515"></a>00515 
<a name="l00516"></a>00516         <span class="comment">//Need to figure out what these actually do for documentation</span>
<a name="l00517"></a>00517         <span class="keywordtype">int</span> conf_window(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> window, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> x_low, 
<a name="l00518"></a>00518                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_low, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> x_high, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_high,
<a name="l00519"></a>00519                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> x_step, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_step);
<a name="l00520"></a>00520         <span class="keywordtype">int</span> conf_gray_window(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> window, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> lx, 
<a name="l00521"></a>00521                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ly, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ux, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> uy, 
<a name="l00522"></a>00522                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> xstep, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ystep);
<a name="l00523"></a>00523         <span class="keywordtype">int</span> conf_gray_image();
<a name="l00524"></a>00524 
<a name="l00529"></a>00529         <span class="keywordtype">int</span> conf_rle(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> delay = 90, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> smooth_tresh = 4, 
<a name="l00530"></a>00530                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_low = 0, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_high = 254,
<a name="l00531"></a>00531                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> u_low = 51, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> u_high = 136,
<a name="l00532"></a>00532                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> v_low = 190, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> v_high = 254);
<a name="l00533"></a>00533 
<a name="l00540"></a>00540         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_array_rgb();
<a name="l00541"></a>00541 
<a name="l00545"></a>00545         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_gray_array();
<a name="l00546"></a>00546 
<a name="l00553"></a>00553         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * quadrupleSize(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * gb, 
<a name="l00554"></a>00554                         <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> size);
<a name="l00555"></a>00555 
<a name="l00563"></a>00563         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_blob_array();
<a name="l00564"></a>00564 
<a name="l00569"></a>00569         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * read_jpeg_header(<span class="keywordtype">int</span> &amp;size);
<a name="l00570"></a>00570 
<a name="l00575"></a>00575         std::vector&lt;unsigned char&gt; read_jpeg_scan();
<a name="l00576"></a>00576 
<a name="l00588"></a>00588         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_jpeg_color(<span class="keywordtype">int</span> reliable, <span class="keywordtype">int</span> &amp;size);
<a name="l00589"></a>00589 
<a name="l00590"></a>00590         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_jpeg_gray(<span class="keywordtype">int</span> reliable, <span class="keywordtype">int</span> &amp;size);
<a name="l00591"></a>00591 
<a name="l00592"></a>00592         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * jpegStretch(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * jpegBuffer, <span class="keywordtype">int</span> color_space,
<a name="l00593"></a>00593                         <span class="keywordtype">int</span> &amp;size);
<a name="l00594"></a>00594 
<a name="l00595"></a>00595 
<a name="l00606"></a>00606         <span class="keywordtype">int</span> send_message(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * buf, <span class="keywordtype">int</span> bytes, <span class="keywordtype">int</span> echo = 1, 
<a name="l00607"></a>00607                         <span class="keywordtype">int</span> sensor = 1);
<a name="l00608"></a>00608 
<a name="l00615"></a>00615         <span class="keywordtype">int</span> read_message(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * buf, <span class="keywordtype">int</span> bytes);
<a name="l00616"></a>00616 
<a name="l00620"></a>00620         <span class="keywordtype">int</span> read_2byte();
<a name="l00621"></a>00621 
<a name="l00625"></a>00625         <span class="keywordtype">int</span> read_3byte();
<a name="l00626"></a>00626 
<a name="l00630"></a>00630         <span class="keywordtype">int</span> write_2byte(<span class="keywordtype">int</span> value);
<a name="l00631"></a>00631 
<a name="l00640"></a>00640         <span class="keywordtype">int</span> read_mem(<span class="keywordtype">int</span> page, <span class="keywordtype">int</span> offset);
<a name="l00641"></a>00641 
<a name="l00645"></a>00645         <span class="keywordtype">int</span> write_mem(<span class="keywordtype">int</span> page, <span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> byte);
<a name="l00646"></a>00646 
<a name="l00650"></a>00650         <span class="keywordtype">int</span> erase_mem(<span class="keywordtype">int</span> page);
<a name="l00651"></a>00651 
<a name="l00655"></a>00655         <span class="keywordtype">int</span> yuv2rgb(<span class="keywordtype">int</span> Y, <span class="keywordtype">int</span> U, <span class="keywordtype">int</span> V, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> &amp;R, 
<a name="l00656"></a>00656                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> &amp;G, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> &amp;B);
<a name="l00657"></a>00657 
<a name="l00661"></a>00661         <span class="keywordtype">int</span> rgb2yuv(<span class="keywordtype">int</span> R, <span class="keywordtype">int</span> G, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> &amp;Y, <span class="keywordtype">int</span> &amp;U, <span class="keywordtype">int</span> &amp;V);
<a name="l00662"></a>00662 
<a name="l00663"></a>00663 
<a name="l00664"></a>00664         <span class="keywordtype">int</span> dongle; <span class="comment">//if robot has dongle or not</span>
<a name="l00665"></a>00665         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * sensors;
<a name="l00666"></a>00666         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * data; <span class="comment">//not sure what this is for yet!</span>
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         <a class="code" href="classserial.html" title="Used to manipulate a serial connection in Linux for connecting, reading, and writing...">serial</a> * con;
<a name="l00669"></a>00669 
<a name="l00670"></a>00670         <span class="keywordtype">int</span> volume;
<a name="l00671"></a>00671 
<a name="l00672"></a>00672         <span class="keywordtype">double</span> lastRotate;
<a name="l00673"></a>00673         <span class="keywordtype">double</span> lastTranslate;
<a name="l00674"></a>00674 
<a name="l00675"></a>00675         <span class="comment">//camera settings, the values are hard coded into the constructor</span>
<a name="l00676"></a>00676         <span class="comment">//however, they are changeable so they aren&#39;t global constants, or</span>
<a name="l00677"></a>00677         <span class="comment">//static constants.</span>
<a name="l00678"></a>00678         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_PID;
<a name="l00679"></a>00679         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_PID_DEFAULT;
<a name="l00680"></a>00680         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_VER;
<a name="l00681"></a>00681         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_VER_DEFAULT;
<a name="l00682"></a>00682         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_BRT;
<a name="l00683"></a>00683         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_BRT_DEFAULT;
<a name="l00684"></a>00684         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_EXP;
<a name="l00685"></a>00685         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_EXP_DEFAULT;
<a name="l00686"></a>00686         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMA;
<a name="l00687"></a>00687         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMA_DEFAULT;
<a name="l00688"></a>00688 
<a name="l00689"></a>00689         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMA_WHITE_BALANCE_ON;
<a name="l00690"></a>00690         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMA_WHITE_BALANCE_OFF;
<a name="l00691"></a>00691 
<a name="l00692"></a>00692         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB;
<a name="l00693"></a>00693         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_DEFAULT;
<a name="l00694"></a>00694         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_GAIN_CONTROL_ON;
<a name="l00695"></a>00695         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_GAIN_CONTROL_OFF;
<a name="l00696"></a>00696 
<a name="l00697"></a>00697         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_EXPOSURE_CONTROL_ON;
<a name="l00698"></a>00698         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_EXPOSURE_CONTROL_OFF;
<a name="l00699"></a>00699 
<a name="l00700"></a>00700     boost::mutex robot_lock;
<a name="l00701"></a>00701     boost::mutex image_lock;
<a name="l00702"></a>00702 
<a name="l00703"></a>00703     Magick::Image jpegImage;
<a name="l00704"></a>00704 
<a name="l00705"></a>00705     <span class="comment">// Videostream Cleanup Stuff!</span>
<a name="l00706"></a>00706     <span class="keyword">private</span>:
<a name="l00707"></a>00707     boost::mutex videoStreamLock;
<a name="l00708"></a>00708     <span class="keywordtype">int</span>  registerVideoStream(<a class="code" href="class_video_stream.html" title="A class for streaming video from a scribbler robot.">VideoStream</a>* vs);
<a name="l00709"></a>00709     <span class="keywordtype">void</span> unregisterVideoStream(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00710"></a>00710     <span class="keywordtype">int</span>  newid;
<a name="l00711"></a>00711     <span class="keywordtype">bool</span> shutdown;
<a name="l00712"></a>00712     std::map&lt;int,VideoStream*&gt; videostreams;
<a name="l00713"></a>00713     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_video_stream.html" title="A class for streaming video from a scribbler robot.">VideoStream</a>;
<a name="l00714"></a>00714 };
<a name="l00715"></a>00715 
<a name="l00716"></a>00716 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue Aug 24 02:48:54 2010 for myro-cpp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
