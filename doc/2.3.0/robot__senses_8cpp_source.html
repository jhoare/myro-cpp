<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>myro-cpp: test/graphics/robot_senses.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>test/graphics/robot_senses.cpp</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include&lt;<a class="code" href="_myro_8h.html" title="This header defines general robot opitions, as well as the construction, of a global...">Myro.h</a>&gt;</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include&lt;iostream&gt;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#include&lt;boost/lexical_cast.hpp&gt;</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="keyword">using namespace </span>std;
<a name="l00006"></a>00006 <span class="keyword">using namespace </span>boost;
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> y_spacing = 20;
<a name="l00009"></a>00009 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> title_left_x = 20;
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> win_width = 300;
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> padding_width = 10;
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> title_right_x = 80;
<a name="l00016"></a>00016 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> two_field_spacing = ( (win_width-padding_width) - title_right_x ) / 2;
<a name="l00017"></a>00017 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> three_field_spacing = ( (win_width-padding_width) - title_right_x ) / 3;
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">void</span> draw_label(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <a class="code" href="class_graph_win.html" title="A GraphWin object represents a window on the screen where graphical images may be...">GraphWin</a>&amp; win){
<a name="l00020"></a>00020     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> t(<a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a>(title_left_x, y_spacing*level), text);
<a name="l00021"></a>00021     t.draw(win);
<a name="l00022"></a>00022 }
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keywordtype">int</span> main(){
<a name="l00025"></a>00025 
<a name="l00026"></a>00026     <a class="code" href="group__myro__general.html#gafaee4aa9716120dacff9d6a03c14be53" title="Connect the global robot.">connect</a>();
<a name="l00027"></a>00027 
<a name="l00028"></a>00028     <a class="code" href="class_graph_win.html" title="A GraphWin object represents a window on the screen where graphical images may be...">GraphWin</a> win(<span class="stringliteral">&quot;Senses&quot;</span>, win_width, y_spacing*9);
<a name="l00029"></a>00029     <span class="comment">// Constantly poll the mouse position and draw a circle</span>
<a name="l00030"></a>00030     draw_label(1,<span class="stringliteral">&quot;Line: &quot;</span>, win);
<a name="l00031"></a>00031     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> line_1_l(title_right_x, y_spacing*1);
<a name="l00032"></a>00032     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> line_val_left(line_1_l, <span class="stringliteral">&quot;0.0&quot;</span>);
<a name="l00033"></a>00033     line_val_left.draw(win);
<a name="l00034"></a>00034     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> line_2_l(title_right_x+two_field_spacing, y_spacing*1);
<a name="l00035"></a>00035     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> line_val_right(line_2_l, <span class="stringliteral">&quot;0.0&quot;</span>);
<a name="l00036"></a>00036     line_val_right.draw(win);
<a name="l00037"></a>00037 
<a name="l00038"></a>00038     draw_label(2,<span class="stringliteral">&quot;Stall: &quot;</span>, win);
<a name="l00039"></a>00039     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> stall_l(title_right_x, y_spacing*2);
<a name="l00040"></a>00040     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> stall_val(stall_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00041"></a>00041     stall_val.draw(win);
<a name="l00042"></a>00042 
<a name="l00043"></a>00043     draw_label(3,<span class="stringliteral">&quot;Bright: &quot;</span>, win);
<a name="l00044"></a>00044     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> bright_1_l(title_right_x,y_spacing*3);
<a name="l00045"></a>00045     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> bright_val_left(bright_1_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00046"></a>00046     bright_val_left.draw(win);
<a name="l00047"></a>00047     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> bright_2_l(title_right_x+three_field_spacing,y_spacing*3);
<a name="l00048"></a>00048     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> bright_val_center(bright_2_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00049"></a>00049     bright_val_center.draw(win);
<a name="l00050"></a>00050     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> bright_3_l(title_right_x+three_field_spacing*2,y_spacing*3);
<a name="l00051"></a>00051     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> bright_val_right(bright_3_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00052"></a>00052     bright_val_right.draw(win);
<a name="l00053"></a>00053 
<a name="l00054"></a>00054     draw_label(4,<span class="stringliteral">&quot;Obstacle: &quot;</span>, win);
<a name="l00055"></a>00055     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> obstacle_1_l(title_right_x, y_spacing*4);
<a name="l00056"></a>00056     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> obstacle_val_left(obstacle_1_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00057"></a>00057     obstacle_val_left.draw(win);
<a name="l00058"></a>00058     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> obstacle_2_l(title_right_x+three_field_spacing, y_spacing*4);
<a name="l00059"></a>00059     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> obstacle_val_center(obstacle_2_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00060"></a>00060     obstacle_val_center.draw(win);
<a name="l00061"></a>00061     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> obstacle_3_l(title_right_x+three_field_spacing*2, y_spacing*4);
<a name="l00062"></a>00062     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> obstacle_val_right(obstacle_3_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00063"></a>00063     obstacle_val_right.draw(win);
<a name="l00064"></a>00064 
<a name="l00065"></a>00065     draw_label(5,<span class="stringliteral">&quot;IR: &quot;</span>, win);
<a name="l00066"></a>00066     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> ir_1_l(title_right_x, y_spacing*5);
<a name="l00067"></a>00067     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> ir_left(ir_1_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00068"></a>00068     ir_left.draw(win);
<a name="l00069"></a>00069     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> ir_2_l(title_right_x+two_field_spacing, y_spacing*5);
<a name="l00070"></a>00070     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> ir_right(ir_2_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00071"></a>00071     ir_right.draw(win);
<a name="l00072"></a>00072 
<a name="l00073"></a>00073     draw_label(6,<span class="stringliteral">&quot;Light: &quot;</span>, win);
<a name="l00074"></a>00074     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> light_1_l(title_right_x, y_spacing*6);
<a name="l00075"></a>00075     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> light_left(light_1_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00076"></a>00076     light_left.draw(win);
<a name="l00077"></a>00077     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> light_2_l(title_right_x+three_field_spacing, y_spacing*6);
<a name="l00078"></a>00078     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> light_center(light_2_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00079"></a>00079     light_center.draw(win);
<a name="l00080"></a>00080     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> light_3_l(title_right_x+three_field_spacing*2, y_spacing*6);
<a name="l00081"></a>00081     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> light_right(light_3_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00082"></a>00082     light_right.draw(win);
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     draw_label(7,<span class="stringliteral">&quot;Battery: &quot;</span>, win);
<a name="l00085"></a>00085     <a class="code" href="class_point.html" title="Represents a single point on an image.">Point</a> battery_l(title_right_x, y_spacing*7);
<a name="l00086"></a>00086     <a class="code" href="class_text.html" title="Used for displaying text on the GraphWin.">Text</a> battery_val(battery_l, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00087"></a>00087     battery_val.draw(win);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <a class="code" href="struct_scribbler_1_1_all_data.html">Scribbler::AllData</a> data;
<a name="l00090"></a>00090     <span class="keywordflow">while</span> ( ! win.<a class="code" href="class_graph_win.html#a9e24b86dbc4fa7834146ee55af3dadc8" title="Check if the window has been closed (programatically or by the user.).">isClosed</a>() ){
<a name="l00091"></a>00091         data = robot.<a class="code" href="class_scribbler.html#a1460f8c9546a1035cbf74c2a4559f2e4" title="Get all of the available sensor data in the AllData structure.">getAll</a>();
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         line_val_left.setText(lexical_cast&lt;std::string&gt;(data.line[0]));
<a name="l00094"></a>00094         line_val_right.setText(lexical_cast&lt;std::string&gt;(data.line[1]));
<a name="l00095"></a>00095 
<a name="l00096"></a>00096         stall_val.setText(lexical_cast&lt;std::string&gt;(data.stall));
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         bright_val_left.setText(lexical_cast&lt;std::string&gt;(data.bright[0]));
<a name="l00099"></a>00099         bright_val_center.setText(lexical_cast&lt;std::string&gt;(data.bright[1]));
<a name="l00100"></a>00100         bright_val_right.setText(lexical_cast&lt;std::string&gt;(data.bright[2]));
<a name="l00101"></a>00101 
<a name="l00102"></a>00102         obstacle_val_left.setText(lexical_cast&lt;std::string&gt;(data.obstacle[0]));
<a name="l00103"></a>00103         obstacle_val_center.setText(lexical_cast&lt;std::string&gt;(data.obstacle[1]));
<a name="l00104"></a>00104         obstacle_val_right.setText(lexical_cast&lt;std::string&gt;(data.obstacle[2]));
<a name="l00105"></a>00105 
<a name="l00106"></a>00106         ir_left.setText(lexical_cast&lt;std::string&gt;(data.ir[0]));
<a name="l00107"></a>00107         ir_right.setText(lexical_cast&lt;std::string&gt;(data.ir[1]));
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         light_left.setText(lexical_cast&lt;std::string&gt;(data.light[0]));
<a name="l00110"></a>00110         light_center.setText(lexical_cast&lt;std::string&gt;(data.light[1]));
<a name="l00111"></a>00111         light_right.setText(lexical_cast&lt;std::string&gt;(data.light[2]));
<a name="l00112"></a>00112 
<a name="l00113"></a>00113         battery_val.setText(lexical_cast&lt;std::string&gt;(data.battery));
<a name="l00114"></a>00114         win.<a class="code" href="class_graph_win.html#a7069ebada199d436a6f4fa2506e512a9" title="Redraw the image.">update</a>();
<a name="l00115"></a>00115     }
<a name="l00116"></a>00116     <a class="code" href="group__myro__general.html#ga960705de531a20389fb29928d43258c3" title="Disconnect the global robot.">disconnect</a>();
<a name="l00117"></a>00117     <span class="keywordflow">return</span> 0;
<a name="l00118"></a>00118 }
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Aug 25 17:12:57 2011 for myro-cpp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
