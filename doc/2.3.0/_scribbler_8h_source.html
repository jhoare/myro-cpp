<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>myro-cpp: headers/Scribbler.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>headers/Scribbler.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef __SCRIBBLER_H__</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define __SCRIBBLER_H__</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;Robot.h&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;Picture.h&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;<a class="code" href="_myro_forward_dec_8h.html" title="Forward declarations so client code doesn&amp;#39;t need to have boost installed, for...">MyroForwardDec.h</a>&gt;</span>
<a name="l00009"></a>00009 
<a name="l00027"></a><a class="code" href="class_scribbler.html">00027</a> <span class="keyword">class </span><a class="code" href="class_scribbler.html" title="A port of the existing IPRE Scribbler Python code to C++.">Scribbler</a>: <span class="keyword">public</span> <a class="code" href="class_robot.html" title="A generic robot class that specifies general required functions for basic robot operation...">Robot</a> {
<a name="l00028"></a>00028     <span class="keyword">public</span>: 
<a name="l00029"></a><a class="code" href="struct_scribbler_1_1_all_data.html">00029</a>         <span class="keyword">struct </span><a class="code" href="struct_scribbler_1_1_all_data.html">AllData</a>{
<a name="l00030"></a>00030             <span class="keywordtype">int</span> line[2];
<a name="l00031"></a>00031             <span class="keywordtype">bool</span> stall;
<a name="l00032"></a>00032             <span class="keywordtype">int</span> bright[3];
<a name="l00033"></a>00033             <span class="keywordtype">int</span> obstacle[3];
<a name="l00034"></a>00034             <span class="keywordtype">int</span> ir[2];
<a name="l00035"></a>00035             <span class="keywordtype">int</span> light[3];
<a name="l00036"></a>00036             <span class="keywordtype">double</span> battery;
<a name="l00037"></a>00037             <span class="keyword">public</span>:
<a name="l00038"></a>00038             <a class="code" href="struct_scribbler_1_1_all_data.html">AllData</a>(){
<a name="l00039"></a>00039                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; 3; i++){
<a name="l00040"></a>00040                     bright[i] = 0;
<a name="l00041"></a>00041                     obstacle[i] = 0;
<a name="l00042"></a>00042                     light[i] = 0;
<a name="l00043"></a>00043                 }
<a name="l00044"></a>00044                 line[0] = line[1] = 0;
<a name="l00045"></a>00045                 ir[0]=ir[1]=battery=0;
<a name="l00046"></a>00046                 stall = <span class="keyword">false</span>;
<a name="l00047"></a>00047             }
<a name="l00048"></a>00048             <a class="code" href="struct_scribbler_1_1_all_data.html">AllData</a>(<span class="keyword">const</span> <a class="code" href="struct_scribbler_1_1_all_data.html">AllData</a>&amp; d){
<a name="l00049"></a>00049                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; 3; i++){
<a name="l00050"></a>00050                     bright[i] = d.line[i];
<a name="l00051"></a>00051                     obstacle[i] = d.line[i];
<a name="l00052"></a>00052                     light[i] = d.line[i];
<a name="l00053"></a>00053                     <span class="keywordflow">if</span> ( i != 2 ){
<a name="l00054"></a>00054                         ir[i]   = d.ir[i];
<a name="l00055"></a>00055                         line[i] = d.line[i];
<a name="l00056"></a>00056                     }
<a name="l00057"></a>00057                 }
<a name="l00058"></a>00058                 stall = d.stall;
<a name="l00059"></a>00059             }
<a name="l00060"></a>00060         };
<a name="l00061"></a>00061 
<a name="l00062"></a>00062         <span class="keyword">public</span>:
<a name="l00063"></a>00063 
<a name="l00065"></a>00065         <a class="code" href="class_scribbler.html#a994fe914f196b2d8fc805f9c5bb3424d" title="Default Constructor.">Scribbler</a>();
<a name="l00067"></a>00067         <a class="code" href="class_scribbler.html#ac7938a3a95591af6209946f06970adab" title="Default Destructor.">~Scribbler</a>();
<a name="l00068"></a>00068 
<a name="l00076"></a>00076         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#af39655498f8e9421045364d43d170d9a" title="Used to connect to the robot, and on use it will ask the user to specify the desired...">connect</a>(std::string port);
<a name="l00077"></a>00077 
<a name="l00084"></a>00084         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a9bdadd3185f21faefdbbb0258ee36081" title="Attempts to disconnect from the robot.">disconnect</a>();
<a name="l00085"></a>00085 
<a name="l00092"></a>00092         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#aa36206f3cf121ef6c3fd6f421c636e00" title="Move issues a desired velocity and desired angular velocity,.">move</a>(<span class="keywordtype">double</span> <a class="code" href="class_scribbler.html#a2d46e5f96071040070bab5e63c6a13af" title="Function for giving the robot a desired velocity.">translate</a>, <span class="keywordtype">double</span> <a class="code" href="class_scribbler.html#ad26135c1700c2942099e6035dacdb2df" title="Function for giving the robot a desired angular velocity.">rotate</a>, <span class="keywordtype">double</span> z=0);
<a name="l00093"></a>00093 
<a name="l00098"></a>00098         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#ad26135c1700c2942099e6035dacdb2df" title="Function for giving the robot a desired angular velocity.">rotate</a>(<span class="keywordtype">double</span> amount);
<a name="l00099"></a>00099 
<a name="l00105"></a>00105         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a2d46e5f96071040070bab5e63c6a13af" title="Function for giving the robot a desired velocity.">translate</a>(<span class="keywordtype">double</span> amount);
<a name="l00106"></a>00106 
<a name="l00110"></a>00110         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a65f7862b21ee67314b4119e696223ff8" title="Function for cutting off power to the robot&amp;#39;s motors.">hardStop</a>();
<a name="l00111"></a>00111 
<a name="l00115"></a>00115         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#ae3cae33a63548223f1037a16d5bfe632" title="TODO: Restart is not yet supported!">restart</a>();
<a name="l00116"></a>00116 
<a name="l00124"></a>00124         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a3baeb877c446c22596121f806701b226" title="Function for sending tones to the robot.">beep</a>(<span class="keywordtype">double</span> duration, <span class="keywordtype">int</span> freq, <span class="keywordtype">int</span> freq2 = 0);
<a name="l00125"></a>00125 
<a name="l00133"></a>00133         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a7cbff5bb8d4684c17df5fa4d90fb0a4c" title="Store a single byte value on the robot.">setData</a>(<span class="keywordtype">int</span> position, <span class="keywordtype">int</span> value);
<a name="l00134"></a>00134 
<a name="l00143"></a>00143         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a4ae497aad9af7279bea8278f0407f80a" title="Performs the same operations as setData, however using a different robot message...">setSingleData</a>(<span class="keywordtype">int</span> position, <span class="keywordtype">int</span> value);
<a name="l00144"></a>00144 
<a name="l00150"></a>00150         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#aa3265b32b1a16066b68eb585cdee02fd" title="Used to turn the robot&amp;#39;s echo mode on or off.">setEchoMode</a>(<span class="keywordtype">int</span> value);
<a name="l00151"></a>00151 
<a name="l00159"></a>00159         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a12f822364f936c92bb26145a438900fa" title="Changes the 16 byte name stored on the robot to the specified 16 byte name.">setName</a>(std::string newName);
<a name="l00160"></a>00160 
<a name="l00168"></a>00168         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a20c057264a35576446a3c3dd4a26405d" title="Changes the 16 byte password stored on the robot to the new specified 16 byte password...">setPassword</a>(std::string password);
<a name="l00169"></a>00169 
<a name="l00170"></a>00170         <span class="comment">//setting functions</span>
<a name="l00183"></a>00183 <span class="comment"></span>        <span class="keywordtype">int</span> <span class="keyword">set</span>(std::string item, <span class="keywordtype">int</span> position, <span class="keywordtype">int</span> value = 0);
<a name="l00184"></a>00184 
<a name="l00198"></a>00198         <span class="keywordtype">int</span> <span class="keyword">set</span>(std::string item, std::string position, <span class="keywordtype">double</span> value = 0);
<a name="l00199"></a>00199 
<a name="l00216"></a>00216         <span class="keywordtype">void</span> * <span class="keyword">get</span>(std::string item, std::vector&lt;std::string&gt; position 
<a name="l00217"></a>00217                         = std::vector&lt;std::string&gt;()); 
<a name="l00218"></a>00218 
<a name="l00231"></a>00231         <span class="keywordtype">void</span> * <span class="keyword">get</span>(std::string item, std::vector&lt;int&gt; position);
<a name="l00232"></a>00232 
<a name="l00243"></a>00243     <span class="keywordtype">bool</span> <a class="code" href="class_scribbler.html#ab354a12038c3e4aa8b68fec5cd95f527" title="Determine if the robot is stalled or not.">getStall</a>();
<a name="l00244"></a>00244 
<a name="l00250"></a>00250     std::string <a class="code" href="class_scribbler.html#ab2c6dd1eae02829dc8ba317ea095b8e4" title="Gets which direction the robot is set to be forward.">getForwardness</a>();
<a name="l00251"></a>00251 
<a name="l00257"></a>00257     <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#ad606dfa3a8c2dc7b88a0eb1ef96cdfb4" title="Gets the volume that the speaker is set to be.">getVolume</a>();
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 
<a name="l00266"></a>00266     std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#a4dd800fa79865619903b594ec8ee1a9a" title="Get the Line sensors.">getLine</a>();
<a name="l00267"></a>00267 
<a name="l00276"></a>00276     std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#a1a2f89c59687385dd995c92c6de7a73e" title="Return if an &amp;quot;obstacle&amp;quot; was seen for each Ir sensor.">getObstacle</a>();
<a name="l00277"></a>00277 
<a name="l00278"></a>00278 
<a name="l00287"></a>00287     std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#a94b3f61e69a14a4fc9a69050776ae3ac" title="read one of the Fluke&amp;#39;s virtual light sensors.">getBright</a>();
<a name="l00288"></a>00288 
<a name="l00295"></a>00295     std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#aaaa6841803cba8ffb1f95776b0aed680" title="Gets all of the IR sensors on the scribbler.">getIR</a>();
<a name="l00296"></a>00296 
<a name="l00304"></a>00304     <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#aaaa6841803cba8ffb1f95776b0aed680" title="Gets all of the IR sensors on the scribbler.">getIR</a>(<span class="keywordtype">int</span> direction);
<a name="l00305"></a>00305 
<a name="l00312"></a>00312     <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#aaaa6841803cba8ffb1f95776b0aed680" title="Gets all of the IR sensors on the scribbler.">getIR</a>(std::string direction);
<a name="l00313"></a>00313 
<a name="l00320"></a>00320     std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#a9c5dfc2a1652804250fcc229c1ac8bd1" title="Get the values of the light sensors.">getLights</a>();
<a name="l00321"></a>00321 
<a name="l00334"></a>00334         std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#ab358b1d1bc06c2a4fb94171ea14e0b74" title="Every set command will read the values for all eleven on board robot sensors, and...">getLastSensors</a>();
<a name="l00335"></a>00335                 
<a name="l00336"></a>00336 
<a name="l00342"></a>00342         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a2ffedfe63730f3d121df47f88b170adb" title="Use to toggle the front led on or off.">setLEDFront</a>(<span class="keywordtype">int</span> value);
<a name="l00343"></a>00343 
<a name="l00350"></a>00350         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a907d86d6c2b1cf1baf17898d25d659af" title="Used to set the back led to the specified value.">setLEDBack</a>(<span class="keywordtype">double</span> value);
<a name="l00351"></a>00351 
<a name="l00360"></a>00360         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a7b7008069b93403fca63aedc7d02890b" title="Used to set the robot&amp;#39;s forward direction.">setForwardness</a>(std::string direction);
<a name="l00361"></a>00361 
<a name="l00367"></a>00367         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a7b7008069b93403fca63aedc7d02890b" title="Used to set the robot&amp;#39;s forward direction.">setForwardness</a>(<span class="keywordtype">int</span> direction);
<a name="l00368"></a>00368 
<a name="l00374"></a>00374         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#ae4436d949639a5f6aad0b5db149cc650" title="Used to set the power amount for the dongle&amp;#39;s IR sensors.">setIRPower</a>(<span class="keywordtype">int</span> power);
<a name="l00375"></a>00375 
<a name="l00381"></a>00381         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#afcfa9bd8d4ff6d06fdc0d927f8993bb6" title="Used to turn the camera&amp;#39;s white balance on or off.">setWhiteBalance</a>(<span class="keywordtype">int</span> value);
<a name="l00382"></a>00382 
<a name="l00386"></a>00386         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a8f07c22ee290fec765ff47d9717a3ad3" title="Not yet supported.">reboot</a>();
<a name="l00387"></a>00387 
<a name="l00401"></a>00401         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a3ceaf2f42deb48190265b21c04fad5b8" title="Used to configure the blob tracking feature within the robot, by providing a picture...">conf_rle_range</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * picture, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> x2,
<a name="l00402"></a>00402                         <span class="keywordtype">int</span> y2);
<a name="l00403"></a>00403 
<a name="l00417"></a>00417         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a791314f4bbb605a2d91570e5d63e2f3d" title="Used to manually define the bounds for a blob configuration in YUV color space.">configureBlob</a>(<span class="keywordtype">int</span> y_low = 0, <span class="keywordtype">int</span> y_high = 255,
<a name="l00418"></a>00418                                            <span class="keywordtype">int</span> u_low = 0, <span class="keywordtype">int</span> u_high = 255,
<a name="l00419"></a>00419                                            <span class="keywordtype">int</span> v_low = 0, <span class="keywordtype">int</span> v_high = 255,
<a name="l00420"></a>00420                                            <span class="keywordtype">int</span> smooth_thresh=4);
<a name="l00421"></a>00421 
<a name="l00425"></a>00425     <a class="code" href="struct_scribbler_1_1_all_data.html">Scribbler::AllData</a> <a class="code" href="class_scribbler.html#a1460f8c9546a1035cbf74c2a4559f2e4" title="Get all of the available sensor data in the AllData structure.">getAll</a>();
<a name="l00426"></a>00426 
<a name="l00432"></a>00432         <span class="keywordtype">double</span> <a class="code" href="class_scribbler.html#aac0b3bf76ad4d644e6b58525f58c1033" title="Read the current voltage value for the batteries.">getBattery</a>();
<a name="l00433"></a>00433         
<a name="l00446"></a>00446         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a1a2f89c59687385dd995c92c6de7a73e" title="Return if an &amp;quot;obstacle&amp;quot; was seen for each Ir sensor.">getObstacle</a>(std::string value);
<a name="l00447"></a>00447 
<a name="l00460"></a>00460         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a1a2f89c59687385dd995c92c6de7a73e" title="Return if an &amp;quot;obstacle&amp;quot; was seen for each Ir sensor.">getObstacle</a>(<span class="keywordtype">int</span> value);
<a name="l00461"></a>00461 
<a name="l00474"></a>00474         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a94b3f61e69a14a4fc9a69050776ae3ac" title="read one of the Fluke&amp;#39;s virtual light sensors.">getBright</a>(std::string value); 
<a name="l00475"></a>00475 
<a name="l00487"></a>00487         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a2fb6eba557a0563eea9266fa5b540e4b" title="Used to query a specified light sensor located on the rear of the robot.">getLight</a>(std::string value = <span class="stringliteral">&quot;none&quot;</span>);
<a name="l00488"></a>00488 
<a name="l00500"></a>00500         <span class="keywordtype">int</span> <a class="code" href="class_scribbler.html#a2fb6eba557a0563eea9266fa5b540e4b" title="Used to query a specified light sensor located on the rear of the robot.">getLight</a>(<span class="keywordtype">int</span> value);
<a name="l00501"></a>00501 
<a name="l00511"></a>00511         <a class="code" href="class_myro_smart_pointer.html">PicturePtr</a> <a class="code" href="class_scribbler.html#aee9cb6a2566261a66406506f7e4309a5" title="Used to take pictures in the RGB and Gray Scale color space.">takePicture</a>(std::string type =  <span class="stringliteral">&quot;color&quot;</span>);
<a name="l00512"></a>00512         
<a name="l00513"></a>00513         <span class="comment">/*</span>
<a name="l00514"></a>00514 <span class="comment">         * Not yet functional. This version is intended to be used for</span>
<a name="l00515"></a>00515 <span class="comment">         * taking the jpeg images. However, get jpeg scan is still buggy.</span>
<a name="l00516"></a>00516 <span class="comment">         */</span>
<a name="l00517"></a>00517         <span class="comment">//unsigned char * takePicture(std::string type , int &amp;size);</span>
<a name="l00518"></a>00518 
<a name="l00529"></a>00529         std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#ac5554f8f75d5a595b9af9bd4590b4bc8" title="Given that the blob tracking is configured, this function returns the number of pixels...">getBlob</a>(); <span class="comment">//not sure about this either</span>
<a name="l00530"></a>00530 
<a name="l00534"></a>00534         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a73e62d11898dd7a97775abecd0a600a6" title="This turns off White Balance, Gain Control, and Exposure Control.">darkenCamera</a>(<span class="keywordtype">int</span> level = 0);
<a name="l00535"></a>00535 
<a name="l00539"></a>00539         <span class="keywordtype">void</span> <a class="code" href="class_scribbler.html#a719e3f22c6aabb024edb2b23323abda5" title="This turns on White Balance, Gain Control, and Exposure Control.">autoCamera</a>();
<a name="l00540"></a>00540 
<a name="l00544"></a>00544         std::string <a class="code" href="class_scribbler.html#abf20230db6546efac1ff68ea13a34302">getName</a>();
<a name="l00545"></a>00545 
<a name="l00549"></a>00549         std::string <a class="code" href="class_scribbler.html#a320536d5f7906b6b25ebc9ad701def4e">getPassword</a>();
<a name="l00550"></a>00550 
<a name="l00558"></a>00558         std::vector&lt;std::string&gt; <a class="code" href="class_scribbler.html#a4c6450c00fc448c18bcf7e56d98c3580" title="This returns information about the robot&amp;#39;s dongle, firmware, and communication...">getInfo</a>();
<a name="l00559"></a>00559 
<a name="l00568"></a>00568         std::vector&lt;int&gt; <a class="code" href="class_scribbler.html#a68aaa4a74037c9bd1e764c5e8f14afb0">getData</a>(std::vector&lt;int&gt; position = std::vector&lt;int&gt;());
<a name="l00569"></a>00569 
<a name="l00570"></a>00570         <span class="keyword">private</span>:
<a name="l00571"></a>00571 
<a name="l00579"></a>00579         <span class="keywordtype">void</span> _adjustSpeed(<span class="keywordtype">double</span> <a class="code" href="class_scribbler.html#a2d46e5f96071040070bab5e63c6a13af" title="Function for giving the robot a desired velocity.">translate</a>, <span class="keywordtype">double</span> <a class="code" href="class_scribbler.html#ad26135c1700c2942099e6035dacdb2df" title="Function for giving the robot a desired angular velocity.">rotate</a>);
<a name="l00580"></a>00580 
<a name="l00594"></a>00594         <span class="keywordtype">int</span> _set(<span class="keywordtype">int</span> message_header, ...);
<a name="l00595"></a>00595 
<a name="l00605"></a>00605         <span class="keywordtype">int</span> * _get(<span class="keywordtype">int</span> message_header, <span class="keywordtype">int</span> bytes, std::string mode = <span class="stringliteral">&quot;byte&quot;</span>);
<a name="l00606"></a>00606 
<a name="l00610"></a>00610         <span class="keywordtype">int</span> _set_speaker(<span class="keywordtype">int</span> freq, <span class="keywordtype">int</span> duration);       
<a name="l00611"></a>00611         <span class="comment">//Overloaded!</span>
<a name="l00612"></a>00612         
<a name="l00616"></a>00616         <span class="keywordtype">int</span> _set_speaker(<span class="keywordtype">int</span> freq, <span class="keywordtype">int</span> freq2, <span class="keywordtype">int</span> duration);
<a name="l00617"></a>00617 
<a name="l00624"></a>00624         <span class="keywordtype">int</span> set_ir_power(<span class="keywordtype">int</span> power);
<a name="l00625"></a>00625 
<a name="l00626"></a>00626         <span class="comment">//Private Camera Related Functions</span>
<a name="l00633"></a>00633 <span class="comment"></span>        <span class="keywordtype">int</span> set_cam_param(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> addr, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> byte);
<a name="l00634"></a>00634 
<a name="l00635"></a>00635         <span class="comment">//Need to figure out what these actually do for documentation</span>
<a name="l00636"></a>00636         <span class="keywordtype">int</span> conf_window(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> window, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> x_low, 
<a name="l00637"></a>00637                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_low, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> x_high, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_high,
<a name="l00638"></a>00638                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> x_step, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_step);
<a name="l00639"></a>00639         <span class="keywordtype">int</span> conf_gray_window(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> window, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> lx, 
<a name="l00640"></a>00640                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ly, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ux, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> uy, 
<a name="l00641"></a>00641                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> xstep, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ystep);
<a name="l00642"></a>00642         <span class="keywordtype">int</span> conf_gray_image();
<a name="l00643"></a>00643 
<a name="l00648"></a>00648         <span class="keywordtype">int</span> conf_rle(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> delay = 90, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> smooth_tresh = 4, 
<a name="l00649"></a>00649                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_low = 0, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> y_high = 254,
<a name="l00650"></a>00650                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> u_low = 51, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> u_high = 136,
<a name="l00651"></a>00651                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> v_low = 190, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> v_high = 254);
<a name="l00652"></a>00652 
<a name="l00659"></a>00659         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_array_rgb();
<a name="l00660"></a>00660 
<a name="l00664"></a>00664         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_gray_array();
<a name="l00665"></a>00665 
<a name="l00672"></a>00672         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * quadrupleSize(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * gb, 
<a name="l00673"></a>00673                         <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> size);
<a name="l00674"></a>00674 
<a name="l00682"></a>00682         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_blob_array();
<a name="l00683"></a>00683 
<a name="l00688"></a>00688         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * read_jpeg_header(<span class="keywordtype">int</span> &amp;size);
<a name="l00689"></a>00689 
<a name="l00694"></a>00694         std::vector&lt;unsigned char&gt; read_jpeg_scan();
<a name="l00695"></a>00695 
<a name="l00707"></a>00707         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_jpeg_color(<span class="keywordtype">int</span> reliable, <span class="keywordtype">int</span> &amp;size);
<a name="l00708"></a>00708 
<a name="l00709"></a>00709         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * grab_jpeg_gray(<span class="keywordtype">int</span> reliable, <span class="keywordtype">int</span> &amp;size);
<a name="l00710"></a>00710 
<a name="l00711"></a>00711         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * jpegStretch(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * jpegBuffer, <span class="keywordtype">int</span> color_space,
<a name="l00712"></a>00712                         <span class="keywordtype">int</span> &amp;size);
<a name="l00713"></a>00713 
<a name="l00714"></a>00714 
<a name="l00725"></a>00725         <span class="keywordtype">int</span> send_message(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * buf, <span class="keywordtype">int</span> bytes, <span class="keywordtype">int</span> echo = 1, 
<a name="l00726"></a>00726                         <span class="keywordtype">int</span> sensor = 1);
<a name="l00727"></a>00727 
<a name="l00734"></a>00734         <span class="keywordtype">int</span> read_message(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * buf, <span class="keywordtype">int</span> bytes);
<a name="l00735"></a>00735 
<a name="l00739"></a>00739         <span class="keywordtype">int</span> read_2byte();
<a name="l00740"></a>00740 
<a name="l00744"></a>00744         <span class="keywordtype">int</span> read_3byte();
<a name="l00745"></a>00745 
<a name="l00749"></a>00749         <span class="keywordtype">int</span> write_2byte(<span class="keywordtype">int</span> value);
<a name="l00750"></a>00750 
<a name="l00759"></a>00759         <span class="keywordtype">int</span> read_mem(<span class="keywordtype">int</span> page, <span class="keywordtype">int</span> offset);
<a name="l00760"></a>00760 
<a name="l00764"></a>00764         <span class="keywordtype">int</span> write_mem(<span class="keywordtype">int</span> page, <span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> byte);
<a name="l00765"></a>00765 
<a name="l00769"></a>00769         <span class="keywordtype">int</span> erase_mem(<span class="keywordtype">int</span> page);
<a name="l00770"></a>00770 
<a name="l00774"></a>00774         <span class="keywordtype">int</span> yuv2rgb(<span class="keywordtype">int</span> Y, <span class="keywordtype">int</span> U, <span class="keywordtype">int</span> V, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> &amp;R, 
<a name="l00775"></a>00775                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> &amp;G, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> &amp;B);
<a name="l00776"></a>00776 
<a name="l00780"></a>00780         <span class="keywordtype">int</span> rgb2yuv(<span class="keywordtype">int</span> R, <span class="keywordtype">int</span> G, <span class="keywordtype">int</span> B, <span class="keywordtype">int</span> &amp;Y, <span class="keywordtype">int</span> &amp;U, <span class="keywordtype">int</span> &amp;V);
<a name="l00781"></a>00781 
<a name="l00782"></a>00782 
<a name="l00783"></a>00783         <span class="keywordtype">int</span> dongle; <span class="comment">//if robot has dongle or not</span>
<a name="l00784"></a>00784         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * sensors;
<a name="l00785"></a>00785         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * data; <span class="comment">//not sure what this is for yet!</span>
<a name="l00786"></a>00786 
<a name="l00787"></a>00787         <a class="code" href="classserial.html" title="Used to manipulate a serial connection in Linux for connecting, reading, and writing...">serial</a> * con;
<a name="l00788"></a>00788 
<a name="l00789"></a>00789         <span class="keywordtype">int</span> volume;
<a name="l00790"></a>00790 
<a name="l00791"></a>00791         <span class="keywordtype">double</span> lastRotate;
<a name="l00792"></a>00792         <span class="keywordtype">double</span> lastTranslate;
<a name="l00793"></a>00793 
<a name="l00794"></a>00794         <span class="comment">//camera settings, the values are hard coded into the constructor</span>
<a name="l00795"></a>00795         <span class="comment">//however, they are changeable so they aren&#39;t global constants, or</span>
<a name="l00796"></a>00796         <span class="comment">//static constants.</span>
<a name="l00797"></a>00797         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_PID;
<a name="l00798"></a>00798         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_PID_DEFAULT;
<a name="l00799"></a>00799         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_VER;
<a name="l00800"></a>00800         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_VER_DEFAULT;
<a name="l00801"></a>00801         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_BRT;
<a name="l00802"></a>00802         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_BRT_DEFAULT;
<a name="l00803"></a>00803         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_EXP;
<a name="l00804"></a>00804         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_EXP_DEFAULT;
<a name="l00805"></a>00805         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMA;
<a name="l00806"></a>00806         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMA_DEFAULT;
<a name="l00807"></a>00807 
<a name="l00808"></a>00808         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMA_WHITE_BALANCE_ON;
<a name="l00809"></a>00809         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMA_WHITE_BALANCE_OFF;
<a name="l00810"></a>00810 
<a name="l00811"></a>00811         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB;
<a name="l00812"></a>00812         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_DEFAULT;
<a name="l00813"></a>00813         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_GAIN_CONTROL_ON;
<a name="l00814"></a>00814         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_GAIN_CONTROL_OFF;
<a name="l00815"></a>00815 
<a name="l00816"></a>00816         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_EXPOSURE_CONTROL_ON;
<a name="l00817"></a>00817         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> CAM_COMB_EXPOSURE_CONTROL_OFF;
<a name="l00818"></a>00818 
<a name="l00819"></a>00819     boost::mutex* robot_lock;
<a name="l00820"></a>00820     boost::mutex* image_lock;
<a name="l00821"></a>00821 
<a name="l00822"></a>00822     <span class="comment">// Videostream Cleanup Stuff!</span>
<a name="l00823"></a>00823     <span class="keyword">private</span>:
<a name="l00824"></a>00824     boost::mutex* videoStreamLock;
<a name="l00825"></a>00825     <span class="keywordtype">int</span>  registerVideoStream(<a class="code" href="class_video_stream.html" title="A class for streaming video from a scribbler robot.">VideoStream</a>* vs);
<a name="l00826"></a>00826     <span class="keywordtype">void</span> unregisterVideoStream(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);
<a name="l00827"></a>00827     <span class="keywordtype">int</span>  newid;
<a name="l00828"></a>00828     <span class="keywordtype">bool</span> shutdown;
<a name="l00829"></a>00829     std::map&lt;int,VideoStream*&gt; videostreams;
<a name="l00830"></a>00830     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_video_stream.html" title="A class for streaming video from a scribbler robot.">VideoStream</a>;
<a name="l00831"></a>00831 };
<a name="l00832"></a>00832 
<a name="l00834"></a>00834 
<a name="l00835"></a>00835 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Aug 25 17:12:57 2011 for myro-cpp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
